<!DOCTYPE html>

<html>
	<head>
		<title>Register: Travel Experts</title>


		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="styles.css">
		<link rel="icon" href="images/icon.png" />
				
		<meta charset="UTF-8">
		<meta name="description" content="Travel Agency" />
		<meta name="keywords" content="flight, booking, travel, vacation" />
		<meta name="author" content="Eric Biondic" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	</head>
	
	<body>
	
		<header>
			<div class="titleContainer">
				<img class="logo" src="images/logo.png" />
				<h1>Welcome to Travel Experts</h1>
			</div>
		</header>
		
		<section>
		
		<div class="container" style="width: 22%">
			<h1 style="text-align:center;">Register</h1>
		</div>
		
		<form method="POST" action="/bouncer.php" class="container" id="registerForm" style="flex-direction:column; width:20%; padding: 15px;">
			
			<label for="registerButtonEmail">Email: </label>
				<p class="inputTip">Please provide a valid email address.</p>
				<input type="text" id="registerButtonEmail" name="email" 
					onfocus=showInputTip(this)  onblur=hideInputTip(this) required="required"/> 
				<br />
			
			<label for="registerButtonPass">Password: </label> 
			<p class="inputTip">Please provide a valid password.</p>
				<input type="password" id="registerButtonPass" name="password" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />

			<label for="registerButtonName">Name: </label>
			<p class="inputTip">Please provide [Firstname Lastname].</p>	
				<input type="text" id="registerButtonName" name="name" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />

			<label for="registerButtonAddress">Address: </label>
			<p class="inputTip">Please provide address in the format [(Unit#) Street# Streetname].</p>
				<input type="text" id="registerButtonAddress" name="address" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />
			
			<label for="registerButtonCity">City: </label>
			<p class="inputTip">Please provide your city.</p>
				<input type="text" id="registerButtonCity" name="city" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />

			<label for="registerButtonProvince">Province: </label>
			<p class="inputTip">Please provide the full name of your province.</p>
				<input type="text" id="registerButtonProvince" name="province" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />

			<label for="registerButtonPostalCode">Postal Code: </label>
			<p class="inputTip">Please provide a postal code in the form A1A1A1.</p>
				<input type="text" id="registerButtonPostalCode" name="postalCode" 
					onfocus=showInputTip(this) onblur=hideInputTip(this) required="required"/> 
				<br />
				
			<label for="registerButtonSubscribe">Yes, I'd like to subscribe to learn about the latest deals: <input type="checkbox" id="registerButtonSubscribe" name="subscribe" /> </label>

			<button type="button" name="register" onclick=confirmer(submitForm,this.name)>Register</button>
			
			<button type="button" name="reset" onclick=confirmer(resetForm,this.name)>Reset</button> 
		
		</form>
			
		</section>

		<!-- JS added at bottom to ensure page renders before JS functionality added -->
		<script> 

			// Wrapper function that prompts user to confirm before calling real function
			function confirmer(confirmedFunction, confirmWord){ 
				if (confirm("Would you really like to " + confirmWord + "?")) {
					confirmedFunction();
				}
				return false;
			}

			function submitForm() {
				const registerInputs = document.getElementById("registerForm").querySelectorAll("input") //Gets all input elements inside the form
				for(input of registerInputs){ //iterates through each input
					if ((input.getAttribute("required") == "required") //check to see if any element is required and also blank
						&& input.value == ""){
							alert("Please enter your " + input.name + "."); //lets user know name of element that is not filled
							return false; //leave function without getting to submit
					}
				}
				const myform = document.getElementById("registerForm").submit(); //points to the form and tells it to submit			 
			}

			function resetForm() {
				const registerInputs = document.getElementById("registerForm").querySelectorAll("input") //Gets all input elements inside the form
				for(input of registerInputs){ //iterates through each input
					if(input.type != "submit"){ //ignores submit button (which uses "value" for its label!)
						input.value = null; //blanks value
					}
				}
			}

			function showInputTip(currentInput){
				inputTip = currentInput.previousElementSibling;
				inputTip.style.display = "block";
			}

			function hideInputTip(currentInput){
				inputTip = currentInput.previousElementSibling;
				inputTip.style.display = "none";
			}

		</script>
	
	</body>
</html>